!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("axios")):"function"==typeof define&&define.amd?define(["axios"],e):(t=t||self).magicHelpers=e(t.axios)}(this,function(t){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e=function(){if(!window.Alpine)throw new Error("[Magic Helpers] Alpine is required for the magic helpers to function correctly.")},n=function(t,e,n){return void 0===n&&(n={}),"function"==typeof t?t.call(e):new Function(["$data"].concat(Object.keys(n)),"var __alpine_result; with($data) { __alpine_result = "+t+" }; return __alpine_result").apply(void 0,[e].concat(Object.values(n)))},r={start:function(){e(),Alpine.addMagicProperty("parent",function(t){if(void 0!==t.$parent)return t.$parent;var e,r=t.parentNode.closest("[x-data]");if(!r)throw new Error("Parent component not found");return e=r.__x?r.__x.getUnobservedData():n(r.getAttribute("x-data"),r),t.$parent=o(e,r),new MutationObserver(function(e){for(var n=0;n<e.length;n++){var a=e[n].target.closest("[x-data]");if(!a||a.isSameNode(r)){if(!a.__x)throw"Error locating $parent data";t.$parent=o(a.__x.getUnobservedData(),r),t.__x.updateElements(t)}}}).observe(r,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e}),Alpine.addMagicProperty("component",function(){return function(t){var e=this;if(void 0!==this[t])return this[t];var r,a=document.querySelector('[x-data][x-id="'+t+'"], [x-data]#'+t);if(!a)throw"Component not found";return r=a.__x?a.__x.getUnobservedData():n(a.getAttribute("x-data"),a),this[t]=o(r,a),new MutationObserver(function(n){for(var r=0;r<n.length;r++){var i=n[r].target.closest("[x-data]");if(!i||!i.isSameNode(e.$el)){if(!i.__x)throw"Error locating $component data";e[t]=o(i.__x.getUnobservedData(),a)}}}).observe(a,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),this[t]}})}},o=function(t,e){return new Proxy(t,{set:function(t,n,r){if(!e.__x)throw new Error("Failed to communicate with observed component");return e.__x.$data[n]=r,!0}})},a=window.deferLoadingAlpine||function(t){return t()};window.deferLoadingAlpine=function(t){a(t),r.start()};var i={start:function(){e(),Alpine.addMagicProperty("fetch",function(){return function(){var e=[].slice.call(arguments);return"string"==typeof e[0]&&e[0].length?t(e[0]).then(function(t){return t.hasOwnProperty("data")?t.data:t}):"object"==typeof e[0]?t(e[0]):e[0]}})}},u=window.deferLoadingAlpine||function(t){return t()};window.deferLoadingAlpine=function(t){i.start(),u(t)};var c={start:function(){e(),Alpine.addMagicProperty("interval",function(){return function(){var t=this,e=[].slice.call(arguments);if("function"!=typeof e[0])return e[0];var n=e[1],r=0,o=!1;"object"==typeof e[1]&&(e[1].hasOwnProperty("timer")&&(n=e[1].timer),e[1].hasOwnProperty("delay")&&(r=e[1].delay),e[1].hasOwnProperty("forceInterval")&&(o=e[1].forceInterval));var a=function(){var r=!t.hasOwnProperty("autoIntervalTest")||t.autoIntervalTest;setTimeout(function(){t.autoIntervalLoop&&(r&&e[0].call(t),o?t.autoIntervalLoop():requestAnimationFrame(t.autoIntervalLoop))},n)};this.autoIntervalLoop=a,setTimeout(function(){t.autoIntervalLoop&&(o?t.autoIntervalLoop():requestAnimationFrame(t.autoIntervalLoop))},r),this.$watch("autoIntervalTest",function(e){e?(t.autoIntervalLoop=a,o?t.autoIntervalLoop():requestAnimationFrame(t.autoIntervalLoop)):(clearTimeout(t.autoIntervalLoop),t.autoIntervalLoop=null)})}})}},l=window.deferLoadingAlpine||function(t){return t()};window.deferLoadingAlpine=function(t){c.start(),l(t)};var s={start:function(){e(),Alpine.addMagicProperty("truncate",function(){return function(){var t=[].slice.call(arguments);if("string"!=typeof t[0])return t[0];var e="â€¦";return t[1]?"object"!=typeof t[1]?(void 0!==t[2]&&(e=t[2]),t[0].slice(0,t[1])+e):(t[1].hasOwnProperty("ellipsis")&&(e=t[1].ellipsis),t[1].hasOwnProperty("words")&&t[1].words?t[0].split(" ").splice(0,t[1].words).join(" ")+e:t[1].hasOwnProperty("characters")&&t[1].characters?t[0].slice(0,t[1].characters)+e:t[0]):t[0]}})}},d=window.deferLoadingAlpine||function(t){return t()};window.deferLoadingAlpine=function(t){s.start(),d(t)};var f=window.deferLoadingAlpine||function(t){return t()};return window.deferLoadingAlpine=function(t){r.start(),i.start(),c.start(),s.start(),f(t)},{AlpineComponentMagicMethod:r,AlpineFetchMagicMethod:i,AlpineIntervalMagicMethod:c,AlpineTruncateMagicMethod:s}});
//# sourceMappingURL=index.umd.js.map
